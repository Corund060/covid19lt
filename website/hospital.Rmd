---
title: "COVID-19 ligoninių statistika"
output: distill::distill_article
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
library(dplyr)
library(ggplot2)
library(readr)
library(tidyr)
library(COVID19)
library(rmarkdown)
library(lubridate)
library(DT)
library(xts)
library(dygraphs)
Sys.setlocale(locale = "lt_LT.UTF-8")
```

```{r include = FALSE}
data <- Sys.time()
```

Atnaujinta: `r format(data, usetz = TRUE)`. 

```{r}

toxts <- function(d, cols) {
    out <- xts(d[,cols], order.by = d$day)
    colnames(out) <- cols
    out
    
}
aa <- read.csv("data/lt-covid19-country.csv") %>% mutate(day = ymd(day))

cvhx <- toxts(aa, c("hospitalized", "icu","ventilated","oxygen"))

dygraph(cvhx["2020-10-01/","hospitalized"], main = "Covid-19 ligonių skaičius") %>% dyOptions(colors = RColorBrewer::brewer.pal(3, "Set1")[c(1,2)]) %>% dyRangeSelector     
```

```{r}
dygraph(cvhx["2020-10-01/","icu"], main = "Covid-19 ligonių reanimacijoje skaičius") %>% dyOptions(colors = RColorBrewer::brewer.pal(3, "Set1")[1]) %>% dyRangeSelector    
```

```{r}
dygraph(cvhx["2020-10-01/","ventilated"], main = "Covid-19 ventiliuojami ligoniai") %>% dyOptions(colors = RColorBrewer::brewer.pal(3, "Set1")[1]) %>% dyRangeSelector    
```


```{r}
dygraph(cvhx["2020-10-01/","oxygen"], main = "Covid-19 ligonių su deguonies kaukėm skaičius") %>% dyOptions(colors = RColorBrewer::brewer.pal(3, "Set1")[1]) %>% dyRangeSelector    
```

